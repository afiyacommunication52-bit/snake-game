<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ASIF'S PRO SNAKE - 3 LIVES</title>
    <style>
        body { margin: 0; background: #1a1a1a; color: white; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; overflow: hidden; font-family: sans-serif; touch-action: none; }
        canvas { background: #000; border: 4px solid #f1c40f; width: 300px; height: 300px; box-shadow: 0 0 20px #f1c40f; }
        .stats { display: flex; justify-content: space-between; width: 300px; margin-bottom: 10px; font-size: 20px; font-weight: bold; }
        .lives { color: #e74c3c; }
        .score { color: #2ecc71; }
        .controls { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 20px; }
        .btn { width: 70px; height: 70px; background: #3498db; border: 2px solid #fff; border-radius: 50%; color: white; font-size: 30px; }
        .dev { margin-top: 15px; color: #2ecc71; font-weight: bold; text-transform: uppercase; border: 1px solid #2ecc71; padding: 5px 10px; }
    </style>
</head>
<body>
    <div class="stats">
        <div class="score">SCORE: <span id="s">0</span></div>
        <div class="lives">LIVES: <span id="l">3</span></div>
    </div>
    <canvas id="g" width="400" height="400"></canvas>
    <div class="dev">Dev: MD. ASIF HOSSAIN</div>
    <div class="controls">
        <button class="btn" style="grid-column:2" onclick="c('u')">▲</button>
        <button class="btn" style="grid-column:1" onclick="c('l')">◀</button>
        <button class="btn" style="grid-column:3" onclick="c('r')">▶</button>
        <button class="btn" style="grid-column:2" onclick="c('d')">▼</button>
    </div>

    <script>
        const v=document.getElementById("g"),t=v.getContext("2d");
        let b=20, s=0, lives=3, d="", f={x:160,y:160}, bonus={x:-100,y:-100}, sn=[{x:200,y:200}], gameStarted=false;

        function speak(text) {
            const msg = new SpeechSynthesisUtterance();
            msg.text = text;
            window.speechSynthesis.speak(msg);
        }

        function c(k){
            if(!gameStarted) { gameStarted=true; speak("Play"); }
            if(k=='u'&&d!='d') d='u'; if(k=='d'&&d!='u') d='d';
            if(k=='l'&&d!='r') d='l'; if(k=='r'&&d!='l') d='r';
        }

        function draw(){
            t.fillStyle="#000"; t.fillRect(0,0,400,400);
            
            // Standard Food
            t.fillStyle="#e74c3c"; t.fillRect(f.x,f.y,b,b);
            
            // Bonus Food
            if(s > 0 && s % 5 == 0) {
                if(bonus.x < 0) { bonus={x:Math.floor(Math.random()*19)*b, y:Math.floor(Math.random()*19)*b}; speak("Bonus"); }
                t.fillStyle="#f1c40f"; t.fillRect(bonus.x,bonus.y,b,b);
            }

            sn.forEach((p,i)=>{
                t.fillStyle=i==0?"#2ecc71":"#27ae60";
                t.fillRect(p.x,p.y,b,b);
            });

            if(d=="") return;

            let hX=sn[0].x, hY=sn[0].y;
            if(d=="u") hY-=b; if(d=="d") hY+=b;
            if(d=="l") hX-=b; if(d=="r") hX+=b;

            if(hX==f.x&&hY==f.y){
                s++; document.getElementById("s").innerText=s;
                f={x:Math.floor(Math.random()*19)*b, y:Math.floor(Math.random()*19)*b};
            } 
            else if(hX==bonus.x&&hY==bonus.y){
                s += 5; document.getElementById("s").innerText=s;
                bonus={x:-100,y:-100}; speak("Great");
            }
            else { sn.pop(); }

            let nH={x:hX,y:hY};

            if(hX<0||hX>=400||hY<0||hY>=400||sn.some(p=>p.x==hX&&p.y==hY)){
                lives--;
                document.getElementById("l").innerText=lives;
                if(lives > 0) {
                    speak("Careful");
                    sn=[{x:200,y:200}]; d=""; 
                } else {
                    speak("Game Over");
                    alert("GAME OVER! Final Score: "+s);
                    location.reload(); return;
                }
            }
            if(d!="") sn.unshift(nH);
        }
        setInterval(draw, 140);
    </script>
</body>
</html>
